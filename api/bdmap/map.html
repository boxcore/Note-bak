<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/*body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;}*/
body, html{width: 100%;height: 100%;overflow: hidden;margin:0;}
/*#l-map{height:100%;width:78%;float:left;border-right:2px solid #bcbcbc;}*/
#allmap{height:100%;width:78%;float:left;border-right:2px solid #bcbcbc;}
#r-result{height:100%;width:20%;float:left;}
</style>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.5&ak=2f18a21f61a57e50df7511a057da7002"></script>
<title>百度地图的Hello, World</title>
</head>
<body>
<div id="allmap" ></div>
</body>
</html>
<script type="text/javascript">
var map = new BMap.Map("allmap");
var point = new BMap.Point(116.341736, 40.107446);
map.centerAndZoom(point, 11);

map.addControl(new BMap.NavigationControl());               // 添加平移缩放控件
map.addControl(new BMap.ScaleControl());                    // 添加比例尺控件
map.addControl(new BMap.OverviewMapControl());              //添加缩略地图控件
map.enableScrollWheelZoom();                            //启用滚轮放大缩小
map.addControl(new BMap.MapTypeControl());          //添加地图类型控件
map.setCurrentCity("北京");          // 设置地图显示的城市 此项是必须设置的



var marker = new BMap.Marker(point);  // 创建标注

map.addOverlay(marker);              // 将标注添加到地图中
// marker.setAnimation(BMAP_ANIMATION_BOUNCE); //跳动的动画

var opts = {
  width : 350,     // 信息窗口宽度
  height: 100,     // 信息窗口高度
  title : "<h4 style='margin:0 0 5px 0;padding:0.2em 0'>LAMP兄弟连 - A大队</h4>" , // 信息窗口标题
  enableAutoPan : true,     //自动平移
  enableMessage:true,//设置允许信息窗发送短息
  message:"欢迎来到兄弟连！"
}
var infoWindow = new BMap.InfoWindow(
"<img style='float:right;margin:4px' id='imgDemo' src='http://app.baidu.com/map/images/tiananmen.jpg' width='139' height='104' title='A-TEAM'/>" + 
"<p style='margin:0;line-height:1.5;font-size:13px;text-indent:2em'>lamp兄弟连技术服务中心吖吖</p>" + 
"</div>", opts);  // 创建信息窗口对象
// map.openInfoWindow(infoWindow,point); //开启信息窗口
marker.openInfoWindow(infoWindow);
marker.addEventListener("click", function(){          
   this.openInfoWindow(infoWindow);
   //图片加载完毕重绘infowindow
});
</script>